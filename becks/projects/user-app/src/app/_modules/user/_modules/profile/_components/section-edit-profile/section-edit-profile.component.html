<div class="container-edit-profile flex-direction-column">
  <div id="container" class="header-div">
    <div id="left" class="lateral-div">
      <mat-icon
        matSuffix
        class="cancel"
        (click)="closeEdit()"
        *ngIf="size == 'xs'"
      >
        close
      </mat-icon>
    </div>
    <div id="center" class="center-div">
      <span class="title-secondary">EDITAR PERFIL</span>
    </div>
    <div id="right" class="lateral-div" *ngIf="size == 'xs'">
      <mat-icon matSuffix class="save" (click)="saveChanges()">
        check
      </mat-icon>
    </div>
    <div id="right" class="lateral-div" *ngIf="size != 'xs'">
      <button mat-button  class="cancel" (click)="closeEditDesktop()">
        <mat-icon matSuffix>
        close
      </mat-icon>
    </button>
    </div>
  </div>
  <div class="margint-top col-flex-center flex-direction-column">
    <user-profile-picture [urlImage]="profilePicture()"></user-profile-picture>
    <button class="link-age-gate link-terms trasparent-button with underline" (click)="changePhoto()"
      >Cambiar foto de perfil</button
    >
    <!-- <user-update-file *ngIf="chargePhoto" (chargePhoto)="chargeImage($event)">
    </user-update-file> -->
    <span *ngIf="size != 'xs'"
      class=" margint-top font-profile margin-tittle flex-direction-row name-box">{{user.first_name}}
      {{user.last_name}} <div class="editLogo margin-left-tt"></div></span>
  </div>
  <div class="content-flex-all-center">
    <form
      [formGroup]="userEditProfileForm"
      class="form-section"
      autocomplete="off"
    >
      <div [ngClass]="screnSize(size, false)" class="col-flex-center">
        <mat-form-field
          appearance="fill"
          floatLabel="auto"
          class="fullInput"
          [ngClass]="getClassInput(userEditProfileForm.controls.name)"
        >
          <mat-label class="color-green">Nombre</mat-label>

          <input
            matInput
            formControlName="name"
            required
            type="text"
            maxlength="20"
            data-qadp="name"
            [value]="user.first_name"
          />
          <mat-error *ngIf="userEditProfileForm.controls.name.errors">
            {{
              getMessageform(
                userEditProfileForm.controls.name,
                "nombre",
                3,
                20,
                0,
                1
              )
            }}</mat-error
          >
        </mat-form-field>

        <mat-form-field
          appearance="fill"
          floatLabel="auto"
          class="fullInput"
          [ngClass]="getClassInput(userEditProfileForm.controls.lastName)"
        >
          <mat-label class="color-green">Apellidos</mat-label>

          <input
            matInput
            formControlName="lastName"
            type="text"
            required
            maxlength="30"
            data-qadp="lastName"
          />
          <mat-error *ngIf="userEditProfileForm.controls.lastName.errors">
            {{
              getMessageform(
                userEditProfileForm.controls.lastName,
                "apellido(s)",
                3,
                20,
                0,
                1
              )
            }}</mat-error
          >
        </mat-form-field>
      </div>
      <div [ngClass]="screnSize(size, true)">
        <mat-form-field
          appearance="fill"
          floatLabel="auto"
          class="fullInput"
          [ngClass]="getClassInput(userEditProfileForm.controls.phone)"
        >
          <mat-label class="color-green">Teléfono</mat-label>

          <input
            matInput
            formControlName="phone"
            type="number"
            required
            maxlength="10"
            data-qadp="phone"
          />
          <mat-error *ngIf="userEditProfileForm.controls.phone.errors">
            {{
              getMessageform(
                userEditProfileForm.controls.phone,
                "teléfono",
                10,
                10,
                0,
                1
              )
            }}</mat-error
          >
        </mat-form-field>
        <div class="flex-direction-column birthayForm">
          <span class="color-green font-link-small margin-left"
            >Fecha de nacimiento</span
          >
          <div class="flex-direction-row content-flex-all-center">
            <mat-form-field
              appearance="fill"
              floatLabel="auto"
              class="with-form"
              [ngClass]="getClassInput(userEditProfileForm.controls.day)"
            >
              <mat-label class="color-green">Dia</mat-label>

              <input
                matInput
                formControlName="day"
                type="number"
                required
                maxlength="2"
                data-qadp="day"
              />
              <mat-error *ngIf="userEditProfileForm.controls.day.errors">
                {{
                  getMessageform(
                    userEditProfileForm.controls.day,
                    "dia",
                    10,
                    10,
                    1,
                    31
                  )
                }}</mat-error
              >
            </mat-form-field>
            <mat-form-field
              appearance="fill"
              floatLabel="auto"
              class="with-form"
              [ngClass]="getClassInput(userEditProfileForm.controls.month)"
            >
              <mat-label class="color-green">Mes</mat-label>

              <input
                matInput
                formControlName="month"
                type="number"
                required
                maxlength="2"
                data-qadp="month"
              />
              <mat-error *ngIf="userEditProfileForm.controls.month.errors">
                {{
                  getMessageform(
                    userEditProfileForm.controls.month,
                    "mes",
                    10,
                    10,
                    1,
                    12
                  )
                }}</mat-error
              >
            </mat-form-field>
            <mat-form-field
              appearance="fill"
              floatLabel="auto"
              style="width: 100px"
              [ngClass]="getClassInput(userEditProfileForm.controls.year)"
            >
              <mat-label class="color-green">Año</mat-label>

              <input
                matInput
                formControlName="year"
                type="number"
                required
                maxlength="4"
                data-qadp="year"
              />
              <mat-error *ngIf="userEditProfileForm.controls.year.errors">
                {{
                  getMessageform(
                    userEditProfileForm.controls.year,
                    "año",
                    10,
                    10,
                    1920,
                    2020
                  )
                }}</mat-error
              >
            </mat-form-field>
          </div>
        </div>
      </div>

      <div [ngClass]="screnSize(size, false)" *ngIf="size != 'xs'">
        <mat-form-field
          appearance="fill"
          floatLabel="auto"
          class="fullInput"
          [ngClass]="getClassInputSelect(userEditProfileForm.controls.id)"
        >
          <mat-label>Tipo de documento</mat-label>
          <mat-select
            panelClass="backgroud-panel"
            formControlName="id"
            required
            data-qadp="id"
          >
            <mat-option value="CC"> Cédula de ciudadanía</mat-option>
            <mat-option value="CE"> Cédula de extranjería</mat-option>
            <mat-option value="PA"> Pasaporte</mat-option>
          </mat-select>
          <mat-error
            *ngIf="userEditProfileForm.controls.id.hasError('required')"
            >Debes seleccionar un campo</mat-error
          >
        </mat-form-field>
        <mat-form-field
          appearance="fill"
          floatLabel="auto"
          class="fullInput"
          [ngClass]="getClassInput(userEditProfileForm.controls.document)"
        >
          <mat-label class="color-green">Documento</mat-label>

          <input
            matInput
            formControlName="document"
            type="text"
            required
            maxlength="30"
            data-qadp="document"
          />
          <mat-error *ngIf="userEditProfileForm.controls.document.errors">
            {{
              getMessageform(
                userEditProfileForm.controls.document,
                "documento",
                3,
                10,
                0,
                1
              )
            }}</mat-error
          >
        </mat-form-field>
      </div>
      <button
        *ngIf="size != 'xs'"
        class="becks-btn-primary margin-top-button button-width margin-bottom"
        (click)="saveChanges()"
        block="block"
        color="becks"
      >
        <span>ACTUALIZAR</span>
      </button>
    </form>
  </div>
</div>
